(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{9447:(e,t,s)=>{Promise.resolve().then(s.bind(s,3646))},3646:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(7437),i=s(2265),r=s(2513),n=s(4378),d=s(495),l=s(6013),o=s(3102),c=s(7135),m=s(4880),u=s(6294),h=s(6975),x=s(837),p=s(4693),j=s(7123),g=s(5426);let f=()=>{let[e,t]=i.useState([{id:"1",name:"John Doe",status:"Waiting",estimatedWaitTime:20,arrivalTime:"14:30"},{id:"2",name:"Jane Smith",status:"In Progress",estimatedWaitTime:5,arrivalTime:"14:15"},{id:"3",name:"Bob Johnson",status:"Waiting",estimatedWaitTime:35,arrivalTime:"14:45"}]),[s,f]=i.useState(!1),[v,T]=i.useState(""),[b,S]=i.useState(30);i.useEffect(()=>{let e=setInterval(()=>{t(e=>e.map(e=>({...e,estimatedWaitTime:Math.max(0,e.estimatedWaitTime-1)})))},6e4);return()=>clearInterval(e)},[]);let A=i.useMemo(()=>[...e].sort((e,t)=>"In Progress"===e.status&&"In Progress"!==t.status?-1:"In Progress"!==e.status&&"In Progress"===t.status?1:"Waiting"===e.status&&"Waiting"!==t.status?-1:"Waiting"!==e.status&&"Waiting"===t.status?1:0),[e]),I=(s,a)=>{t(e.map(e=>e.id===s?{...e,status:a}:e)),(0,j.Am)({title:"Patient Status Updated",description:"Patient ".concat(s," status changed to ").concat(a)})},P=(s,a)=>{t(e.map(e=>e.id===s?{...e,estimatedWaitTime:parseInt(a,10)||0}:e))},y=e=>{(0,j.Am)({title:"Patient Notified",description:"Notification sent to patient ".concat(e)})},N=e=>{let t=new Date,s=new Date(t.toDateString()+" "+e);return Math.floor((t-s)/6e4)},w=e=>{let t=0;for(let s=0;s<e;s++)"Completed"!==A[s].status&&(t+=A[s].estimatedWaitTime);return t};return(0,a.jsxs)("div",{className:"w-full max-w-6xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900 mb-8 text-center dark:text-white",children:"Lobby Management"}),(0,a.jsxs)(l.Zb,{className:"mb-8",children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.ll,{children:"Lobby Management"}),(0,a.jsx)(l.SZ,{children:"Track real-time patient flow in the clinic"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(x.Vq,{open:s,onOpenChange:f,children:[(0,a.jsx)(x.hg,{asChild:!0,children:(0,a.jsxs)(d.z,{variant:"outline",children:[(0,a.jsx)(r.Z,{className:"mr-2 h-4 w-4"})," Add Patient"]})}),(0,a.jsxs)(x.cZ,{children:[(0,a.jsxs)(x.fK,{children:[(0,a.jsx)(x.$N,{children:"Add New Patient"}),(0,a.jsx)(x.Be,{children:"Select a patient and set their estimated wait time."})]}),(0,a.jsxs)(u.Ph,{value:v,onValueChange:T,children:[(0,a.jsx)(u.i4,{children:(0,a.jsx)(u.ki,{placeholder:"Select a patient"})}),(0,a.jsx)(u.Bw,{children:["Alice Anderson","Bob Brown","Charlie Clark","David Davis","Eva Evans","Frank Foster","Grace Green","Henry Hill","Ivy Ingram","Jack Johnson"].map(e=>(0,a.jsx)(u.Ql,{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c._,{htmlFor:"estimatedWaitTime",children:"Estimated Wait Time (minutes):"}),(0,a.jsx)(o.I,{id:"estimatedWaitTime",type:"number",value:b,onChange:e=>S(parseInt(e.target.value,10)),className:"w-20"})]}),(0,a.jsx)(x.cN,{children:(0,a.jsx)(d.z,{onClick:()=>{if(""===v.trim()){(0,j.Am)({title:"Error",description:"Please select a patient from the list",variant:"destructive"});return}let s=new Date,a={id:String(e.length+1),name:v,status:"Waiting",estimatedWaitTime:b,arrivalTime:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};t([...e,a]),T(""),S(30),f(!1),(0,j.Am)({title:"New Patient Added",description:"".concat(a.name," has been added to the queue")})},children:"Add Patient"})})]})]}),(0,a.jsx)(d.z,{variant:"outline",size:"icon",onClick:()=>(0,j.Am)({title:"Queue Refreshed"}),children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(l.aY,{children:(0,a.jsx)(m.x,{className:"h-[400px]",children:(0,a.jsx)(g.Z5,{onDragEnd:s=>{if(!s.destination){let a=s.draggableId;t(e.filter(e=>e.id!==a)),(0,j.Am)({title:"Patient Removed",description:"Patient has been removed from the queue"});return}let a=Array.from(e),[i]=a.splice(s.source.index,1);a.splice(s.destination.index,0,i),t(a)},children:(0,a.jsx)(g.bK,{droppableId:"patientQueue",children:e=>(0,a.jsxs)(h.iA,{...e.droppableProps,ref:e.innerRef,children:[(0,a.jsx)(h.xD,{children:(0,a.jsxs)(h.SC,{children:[(0,a.jsx)(h.ss,{children:"Patient Name"}),(0,a.jsx)(h.ss,{children:"Status"}),(0,a.jsx)(h.ss,{children:"Estimated Wait Time"}),(0,a.jsx)(h.ss,{children:"Arrival Time"}),(0,a.jsx)(h.ss,{children:"Time Waited"}),(0,a.jsx)(h.ss,{children:"Estimated Time to Doctor"}),(0,a.jsx)(h.ss,{children:"Actions"})]})}),(0,a.jsxs)(h.RM,{children:[A.map((e,t)=>(0,a.jsx)(g._l,{draggableId:e.id,index:t,children:(s,i)=>(0,a.jsxs)(h.SC,{ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,style:{...s.draggableProps.style,background:i.isDragging?"rgba(0, 0, 0, 0.1)":"transparent"},children:[(0,a.jsx)(h.pj,{children:e.name}),(0,a.jsx)(h.pj,{children:(0,a.jsx)(p.C,{variant:"In Progress"===e.status?"default":"secondary",children:e.status})}),(0,a.jsxs)(h.pj,{children:[(0,a.jsx)(o.I,{value:e.estimatedWaitTime,onChange:t=>P(e.id,t.target.value),className:"w-24"})," mins"]}),(0,a.jsx)(h.pj,{children:e.arrivalTime}),(0,a.jsxs)(h.pj,{children:[N(e.arrivalTime)," ","mins"]}),(0,a.jsxs)(h.pj,{children:[w(t)," mins"]}),(0,a.jsx)(h.pj,{children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(u.Ph,{onValueChange:t=>I(e.id,t),children:[(0,a.jsx)(u.i4,{className:"w-[120px]",children:(0,a.jsx)(u.ki,{placeholder:"Update Status"})}),(0,a.jsxs)(u.Bw,{children:[(0,a.jsx)(u.Ql,{value:"Waiting",children:"Waiting"}),(0,a.jsx)(u.Ql,{value:"In Progress",children:"In Progress"}),(0,a.jsx)(u.Ql,{value:"Completed",children:"Completed"})]})]}),(0,a.jsx)(d.z,{variant:"outline",size:"sm",onClick:()=>y(e.id),children:"Notify"})]})})]})},e.id)),e.placeholder]})]})})})})})]})]})}},4693:(e,t,s)=>{"use strict";s.d(t,{C:()=>d});var a=s(7437);s(2265);var i=s(2218),r=s(7440);let n=(0,i.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:s,...i}=e;return(0,a.jsx)("div",{className:(0,r.cn)(n({variant:s}),t),...i})}},7123:(e,t,s)=>{"use strict";s.d(t,{Am:()=>m,pm:()=>u});var a=s(2265);let i=0,r=new Map,n=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],o={toasts:[]};function c(e){o=d(o,e),l.forEach(e=>{e(o)})}function m(e){let{...t}=e,s=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,t]=a.useState(o);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[310,216,963,533,829,974,168,285,580,971,130,215,744],()=>t(9447)),_N_E=e.O()}]);